<html>
    <head>
        <meta charset="utf-8" />
    </head>
    <body>
        
    </body>
    <script>
    $('#btn').click(function () {
        var userName = document.myForm.userName.value;
        var img = document.myForm.img.files[0];

        var fm = new FormData();
        fm.append('userName', userName);
        fm.append('img', img);
        $.ajax({
                url: 'submitform.php',
                type: 'POST',
                data: fm,
                contentType: false, //禁止设置请求类型
                processData: false, //禁止jquery对DAta数据的处理,默认会处理
                //禁止的原因是,FormData已经帮我们做了处理
                success: function (result) {
                    //测试是否成功
                    //但需要你后端有返回值
                    alert(result);
                }
        });
    });
    function upload(){
        $.ajaxFileUpload({
                url: 'a.php', //用于文件上传的服务器端请求地址
                secureuri: false, //一般设置为false
                fileElementId: 'file', //文件上传空间的id属性  
                dataType: 'json', //返回值类型 一般设置为json
                success: function (data, status)  //服务器成功响应处理函数
                {                
                    $("#img1").attr("src", data);
                    //处理
                },
                error: function (data, status, e)//服务器响应失败处理函数
                {
                    alert(e);
                }
            }   
        );
    }
    </script>
</html>
